#  Author: lm383, 
import pandas as pd
import plotly.express as px
import plotly.graph_objects as go
import statistics as stat
#  pip install pandas
#  pip install statsmodels
#  pip install plotly==5.14.1 < needed to install before run
a_algo = "A-Star Search"
a_data = [[0.0109318,0.0230716,0.016187767,0.0057461,0.005780433,0.005105567,0.039611133,0.0026104,0.079572533,0.0129339],
 [0.002864167,0.009056233,0.137057567,0.006500133,0.061772433,0.004350767,0.0044546,0.0026683,0.0572052,0.043115433]
,[0.0037928,0.002997967,0.004676367,0.004662367,0.1429781,0.005128333,0.043296567,0.053466367,0.667735833,0.005965467]
, [0.1363167,0.022450733,0.006812633,0.574101033,0.4703809,0.113792633,0.024663267,0.066983167,0.006223867,3.571690267]
, [0.0094012,0.004480267,0.003461967,0.0058581,0.005463533,0.163715667,0.020204233,0.0111252,0.0134093,0.011033733]
, [0.409983667,0.940107933,0.005530433,0.004948667,0.004302933,0.0227436,0.0407383,0.7762965,0.010241633,0.2565646]
, [0.011782067,0.005624933,0.005723967,0.0126266,0.003898433,0.068400367,0.039833733,0.007211167,0.0211158,1.592102833]
, [0.060306133,0.006774633,0.006779467,1.323656267,0.1607689,0.142844667,0.2195996,0.0118254,0.013630967,0.0099151]
, [0.0065987,0.014616167,0.008257133,0.009315867,0.0070918,0.0100288,0.008319167,0.0111002,0.019164233,0.009475267]
,[0.009621467,0.011231467,0.013309533,0.0103679,0.135592933,0.0110199,1.427879167,0.013382867,0.062776767,6.487259267]]
a_data_exclusive =  [[0.0109318,0.0230716,0.016187767,0.0057461,0.005780433,0.005105567,0.039611133,0.0026104,0.0129339],
 [0.002864167,0.009056233,0.006500133,0.061772433,0.004350767,0.0044546,0.0026683,0.0572052,0.043115433]
,[0.0037928,0.002997967,0.004676367,0.004662367,0.005128333,0.043296567,0.053466367,0.005965467]
, [0.1363167,0.022450733,0.006812633,0.574101033,0.4703809,0.113792633,0.024663267,0.066983167,0.006223867]
, [0.0094012,0.004480267,0.003461967,0.0058581,0.005463533,0.020204233,0.0111252,0.0134093,0.011033733]
, [0.409983667,0.940107933,0.005530433,0.004948667,0.004302933,0.0227436,0.0407383,0.7762965,0.010241633,0.2565646]
, [0.011782067,0.005624933,0.005723967,0.0126266,0.003898433,0.068400367,0.039833733,0.007211167,0.0211158]
, [0.060306133,0.006774633,0.006779467,0.1607689,0.142844667,0.2195996,0.0118254,0.013630967,0.0099151]
, [0.0065987,0.014616167,0.008257133,0.009315867,0.0070918,0.0100288,0.008319167,0.0111002,0.009475267]
,[0.009621467,0.011231467,0.013309533,0.0103679,0.135592933,0.0110199,0.013382867,0.062776767]]

bfs_algo = "Breadth First Search"
bfs_data = [[0.084316167,0.083699767,0.112159533,0.020718067,0.040502633,0.090534433,0.524962467,0.025442733,0.157974933,0.018371767],
[0.175192333,0.283426033,1.874772267,0.785042467,0.169143933,0.1621361,0.295506767,0.382655767,0.951551467,0.528721133],
[0.966322233,1.172540767,0.974682467,0.555083933,14.0906118,1.015985,0.061852767,4.143769967,2.069038067,1.088995733],
[8.809948733,0.890949533,0.2552934,5.753835333,15.4909739,10.38390193,2.7035122,20.49735217,2.019380433,213.2033007],
[6.609945933,11.41738377,0.2523633,2.603418533,22.52431297,10.04572357,17.90875817,12.78094893,30.59057003,2.855052667],
[5.609158333,5.634604367,3.068298733,2.8312296,2.1219779,51.56059327,8.778523,71.87038407,8.465493467,688.1497897],
[7.697079867,8.658070633,1.764976433,19.61131073,6.7872764,3.180615533,13.90154177,23.70980347,9.066342067,293.8336566],
[44.2815597,12.65097197,40.55750127,4852.723475,18.9813157,27.11233413,8.048949,242.0446555,74.24102953,62.2655556],
[3.122087567,68.7280868,16.43902653,373.1172463,143.3475254,16.2878916,94.0035325,468.2931404,104.0081339,14.29043767],
[421.8127391,1721.381673,1129.63853,56.91431607,38.54124143,205.0222857,1857.788539,29.1732729,436.0881402,1343.862459]]
bfs_data_exclusive = [[0.084316167,0.083699767,0.112159533,0.020718067,0.040502633,0.090534433,0.025442733,0.157974933,0.018371767],
[0.175192333,0.283426033,0.785042467,0.169143933,0.1621361,0.295506767,0.382655767,0.951551467,0.528721133],
[0.966322233,1.172540767,0.974682467,0.555083933,1.015985,0.061852767,2.069038067,1.088995733],
[8.809948733,0.890949533,0.2552934,5.753835333,15.4909739,10.38390193,2.7035122,20.49735217,2.019380433],
[6.609945933,11.41738377,0.2523633,2.603418533,22.52431297,10.04572357,17.90875817,12.78094893,30.59057003,2.855052667],
[5.609158333,5.634604367,3.068298733,2.8312296,2.1219779,51.56059327,8.778523,71.87038407,8.465493467],
[7.697079867,8.658070633,1.764976433,19.61131073,6.7872764,3.180615533,13.90154177,23.70980347,9.066342067],
[44.2815597,12.65097197,40.55750127,18.9813157,27.11233413,8.048949,74.24102953,62.2655556],
[3.122087567,68.7280868,16.43902653,143.3475254,16.2878916,94.0035325,104.0081339,14.29043767],
[421.8127391,1721.381673,1129.63853,56.91431607,38.54124143,205.0222857,1857.788539,29.1732729,436.0881402,1343.862459]]

b_algo = "Beam Search"
b_data = [[0.077018133,0.0509115,0.126825033,0.008985167,0.0757256,0.080034567,0.308434467,0.009398433,0.1590048,0.012203633],
[0.011428833,0.1675921,3.2603127,0.0215582,0.2193248,0.0136157,0.011425467,0.011137667,0.578459933,0.5365294],
[0.0242855,0.0275365,0.026243867,2.468706933,5.675996767,0.031593833,1.203565833,5.259099567,2.2211465,0.027418833],
[5.521703833,0.4934546,0.114615333,7.187134933,25.28397083,9.678473467,0.8552325,1.743767133,0.153057833,737.4602845],
[0.206022867,0.119753133,0.057044,0.146736533,0.225906133,14.928016,1.231306367,0.602118733,0.387393233,1.076579833],
[6.2898644,5.862149767,0.093826233,0.098692867,1.394148133,2.5268845,12.18067403,101.1643625,0.3444709,189.4828514],
[4.2474758,0.318522567,0.7142071,2.0566085,0.176264233,2.047905367,14.4509948,0.204654567,4.08577,327.392149],
[57.0036074,0.3458589,0.7052682,6493.167812,23.2964219,22.75052527,8.761328467,1.695374133,1.4786365,18.56689317],
[0.360398533,29.0418215,0.678336367,3.157484767,1.4627902,1.411511733,1.447506067,1.6721801,13.4099459,0.960376667],
[2.927944567,3.4936523,10.11944773,2.215546533,51.79222077,2.735703567,2193.245082,17.45847697,816.5042391,1997.171819]]
b_data_exclusive = [[0.077018133,0.0509115,0.126825033,0.008985167,0.0757256,0.080034567,0.009398433,0.1590048,0.012203633],
[0.011428833,0.1675921,0.0215582,0.2193248,0.0136157,0.011425467,0.011137667,0.578459933,0.5365294],
[0.0242855,0.0275365,0.026243867,2.468706933,5.675996767,0.031593833,1.203565833,5.259099567,2.2211465,0.027418833],
[5.521703833,0.4934546,0.114615333,7.187134933,9.678473467,0.8552325,1.743767133,0.153057833],
[0.206022867,0.119753133,0.057044,0.146736533,0.225906133,1.231306367,0.602118733,0.387393233,1.076579833],
[6.2898644,5.862149767,0.093826233,0.098692867,1.394148133,2.5268845,12.18067403,0.3444709],
[4.2474758,0.318522567,0.7142071,2.0566085,0.176264233,2.047905367,0.204654567,4.08577],
[0.3458589,0.7052682,23.2964219,22.75052527,8.761328467,1.695374133,1.4786365,18.56689317],
[0.360398533,0.678336367,3.157484767,1.4627902,1.411511733,1.447506067,1.6721801,0.960376667],
[2.927944567,3.4936523,10.11944773,2.215546533,51.79222077,2.735703567,17.45847697]]

x_array = ["6x6", "7x7", "8x8", "9x9", "10x10", "11x11", "12x12", "13x13", "14x14", "15x15"]


def graph(data_r, algo):
    fig = go.Figure()
    #df = pd.array(data)
    y_array = []
    for count in range(0, 10):
        fig.add_trace(go.Box(y=data_r[count], name=x_array[count]))
        y_array.append(stat.median(data_r[count]))
        
    #fig.add_shape(type="line", line=dict(dash='dash'),x0= "6x6", y0=min(data[9]),x1="15x15", y1=max(data[9]))
    fig.update_layout(
        title=algo,
        yaxis_title='runtimes (s)',
        xaxis_title='board size')
    #fig = px.box(df, x="sizes", y="Runtime")
    fig.show()


def graph_no_out(data_r, algo):
    fig = go.Figure()
    #df = pd.array(data)
    y_array = []
    for count in range(0, 10):
        fig.add_trace(go.Box(y=data_r[count], name=x_array[count]))
        y_array.append(stat.median(data_r[count]))
        
    #fig.add_shape(type="line", line=dict(dash='dash'),x0= "6x6", y0=min(data[9]),x1="15x15", y1=max(data[9]))
    
    #fig.update_traces(boxpoints='outliers',jitter=0.2, quartilemethod="exclusive")
    fig.update_traces(boxpoints=False,jitter=0.2)
    #fig.add_scatter(x=x_array, y=data_r, line =dict(color='black'))
    
    fig.update_layout(
        title=algo,
        yaxis_title='runtimes (s)',
        xaxis_title='board size')
    #fig = px.box(df, x="sizes", y="Runtime")
    fig.show()

def linear_graph(data_r, algo):
    d = {
        x_array[0]: data_r[0],
        x_array[1]: data_r[1],
        x_array[2]: data_r[2],
        x_array[3]: data_r[3],
        x_array[4]: data_r[4],
        x_array[5]: data_r[5],
        x_array[6]: data_r[6],
        x_array[7]: data_r[7],
        x_array[8]: data_r[8],
        x_array[9]: data_r[9],
    }
    df = pd.DataFrame.from_dict(d)
    fig = px.scatter(df, trendline="ols", trendline_scope="overall")
    fig.update_layout(
        title=algo,
        yaxis_title='runtimes (s)',
        xaxis_title='board size')
    #fig = px.box(df, x="sizes", y="Runtime")
    fig.show()

# graph(a_data, a_algo)
# linear_graph(a_data, a_algo)
# graph_no_out(a_data_exclusive, a_algo)

# graph(bfs_data, bfs_algo)
# linear_graph(bfs_data, bfs_algo)
# graph_no_out(bfs_data_exclusive, bfs_algo)

graph(b_data, b_algo)
linear_graph(b_data, b_algo)
graph_no_out(b_data_exclusive, b_algo)
